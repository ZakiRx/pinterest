{% extends 'layout/partials/base.html.twig' %}

{% block title 'List Pin' %}

{% block body %}
    <h2 class="text-center mb-3"> List Pins</h2>
    <a href="{{ path('admin_create_pin') }}" class="btn btn-primary mb-3">New Pin</a>

    {% include('layout/partials/_flashe_messages.html.twig') %}
      <div class="row list-pins">

          {% for pin in pins %}

              <div class="col-md-4 mb-4">
                  <article class="rounded shadow ">
                      <div class="pin-img overflow-hidden">
                          <a href="{{ path('admin_pins_index') }}">
                              <img src="{{ (pin.imageName ? vich_uploader_asset(pin) : asset('images/pins/default.jpeg')) |
                              imagine_filter("thumb_background")}}" alt="{{ pin.title }}" class="w-100" />
                          </a>
                      </div>
                      <div class="content p-3">
                          <h4 class="mb-3 text-muted">{{ pin.title}}</h4>
                          <p>{{ pin.description}}</p>

                          <small>Created By {{ pin.user.fullName }}</small>

                      </div>
                      <div class="actions py-2 px-3">
                          <a href="{{ path('admin_edit_pin',{id:pin.id}) }}" class="btn btn-light">Edit</a>
                          <form onsubmit="return confirm('Are you sure ?');" method="post" action="{{ path('admin_delete_pin',{id:pin.id}) }}" class="d-inline">
                              <input type="hidden" name="_method" value="DELETE">
                              <input type="hidden" name="_token" value="{{ csrf_token('delete_pin'~pin.id) }}">
                              <input type="submit" class="text-danger border-0 bg-white" value="Delete">
                          </form>
                      </div>

                  </article>




              </div>

          {% endfor %}
      </div>


{% endblock %}